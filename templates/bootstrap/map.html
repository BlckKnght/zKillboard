{% extends "base.html" %}

{% set pageTitle = 'Live Kill Map' %}
{% block title %}{% include 'components/title.html' %}{% endblock %}

{% block content %}
	<div id="map-container"></div>
{% endblock %}

{% block script %}
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r61/three.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/0.3.4/sockjs.min.js"></script>
	<script type="text/javascript" src="//{{ siteurl }}/mapz/public/js/zkb-map.min.js"></script>
	<script type="text/javascript">
		map = $('#map-container').ZKBMap({
		  killFeedUrl: 'https://stomp.zkillboard.com:15678/stomp',
		  solarSystemsJsonUrl: '/mapz/public/data/solar_systems.json',
		  regionGroupsJsonUrl: '/mapz/public/data/region_groups.json',
		  starTextureUrl: '/mapz/public/images/glow.png'
		});
		$(window).on('resize', map.calibrateCamera); // call this to after map container size changes
		setTimeout(function() {
		  map.displayRegionGroup("Wormholes") // switch to a specific display group by name
		}, 100000000);
	</script>
{% endblock %}

{% block style %}
	<link rel="stylesheet" type="text/css" href="//{{ siteurl }}/mapz/public/css/zkb-map.min.css">
	<style type="text/css">
		#map-container {
		position: relative;
		top: 40px;
		right: 0px;
		bottom: 0px;
		left: 0px;
		z-index: 1;
		height: 800px;
		width: 100%;
	}
</style>
{% endblock %}